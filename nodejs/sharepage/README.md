README.md

# 说明
sharepage( nodejs + mongodb) 应用开发工具,用于开发基于Nodejs的MIS系统的工具集合,目标是简化MIS开发过程,提高开发效率.
目标是做到:一人一天一个模块的开发效率.

## 优势
nodejs其实非常适合开发MIS系统，尤其是小型的性能要求不太高的系统因为：
- nodejs&mongodb无严格格式，在快速开发过程中容易修改,更易快速迭代
- javascript支持函数式编程风格,支持闭包和非常简化的类型访问接口,语言的抽象程度很高,可以用更少的代码完成需要的工作，尤其是大量类似功能的工作。
- 支持文档型数据结构,减少表关联，主细表,这些关联操作在用传统技术时占用了很大的工作量.

# 开发过程
开发过程简单的说就是先编写模板，然后生成代码，然后修改生成的代码。

## step1: 首先在sharepage目录下修改或者创建项目中用到的几种模块模板，缺省的有LIST / CRUD两种
- LIST模块是一般的列表和分页查询的页面模板
- CRUD模块是比较复杂的页面，包括对象修改创建和修改
- 可以自己根据项目创建一些模板，没个项目其实大部分都是类似的功能应用在不同的对象上
- 修改模板的时候有几个点是要重点修改的, front_module.html --> 这个模块的前端页面展示,修改后可以改变布局和版式 

## step2: 使用share.js命令，利用模板生成各个模块的基础代码，已经了包含比较多的功能，但是肯定还不能满足每个模块的特定功能, 需要手工针对各个模块的特殊之处修改代码,最主要需要修改的地方是: 
- 模块对象的数据结构，模板生成的代码里面只有示例的数据结构，需要改成实际的结构,涉及的修改点是：<%module_name%>db.js
- 针对数据结构的展示代码，由于数据结构发生改变了，前端展示的页面必然也要修改

## step3: 开发的过程中如果发现模板代码不够好也可以重新生成,生成的代码不会自动合并到现有代码中，会生成一个module.js.new文件，需要我们手工使用merge工具和并两个文件,以后版本的sharepage中可能会提供自动合并的功能，目前没有。
TODO:或许可以借助git的功能，生成新的代码之前先把当点代码commit到库中，然后生成一个新的代码，覆盖掉原有的代码,
    然后使用git的merge功能把刚才commit的那个版本和目前修改的这个版本合并起来, 看上去是个聪明的方法.

## step4: 开始调试，测试，并反馈修改模板的循环过程,经过几轮循环，模板就会进入成熟状态,生成代码的效率提升会非常大。

## 项目开发完成后，使用share build 生成发布代码，生成的发布代码去掉了sharepage目录，其他的目录执行压缩或者优化操作,最终出来的包就可以发布到服务器上运行

# 使用
创建模块文件
share gen {module_name} {out_dir}

# 构建发布代码
share build
